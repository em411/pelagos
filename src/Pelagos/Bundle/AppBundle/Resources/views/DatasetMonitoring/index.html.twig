{% extends "PelagosAppBundle:template:UI.html.twig" %}

{% block head %}
    {{ parent() }}

    {% stylesheets
        '@PelagosAppBundle/Resources/public/css/dataset-monitoring.css'
        '@PelagosAppBundle/Resources/public/css/scrollbars.css'
    %}
        {{ add_css(asset_url) }}
    {% endstylesheets %}

    {{ add_js('https://cdnjs.cloudflare.com/ajax/libs/jquery-hashchange/1.3/jquery.ba-hashchange.min.js') }}

    {% javascripts
        '@PelagosAppBundle/Resources/public/js/dataset-monitoring.js'
        '@PelagosAppBundle/Resources/public/js/tree.js'
        '@FOSJsRoutingBundle/Resources/public/js/router.js'
    %}
        {{ add_js(asset_url) }}
    {% endjavascripts %}

    {{ add_js(path('fos_js_routing_js', { callback: 'fos.Router.setData' })) }}
{% endblock %}

{% block body %}
    <div id="container">
        <div id="left">
            <div id="menu">
                <div class="viewport">
                    <div class="overview">
                        <script type="text/javascript">
                            var tree = {
                                        theme: "classic",
                                        max_depth: 2,
                                        expand_to_depth: 0,
                                        animation: 250,
                                        type: "ra",

                                        rfp_color: "#00A",
                                        rfp_action: "updateHash(\{\{fundSrc.id\}\});showProjects('fundSrc',\{\{fundSrc.id\}\});",

                                        project_color: "#00A",
                                        project_action: "updateHash(\{\{project.fundingCycle.id\}\},\{\{project.id\}\});showProjects('projectId',\{\{project.id\}\});",

                                        researcher_color: "#00A",
                                        researcher_action: "location.href='#';showProjects('peopleId',\{\{person.id\}\});",

                                        afteropen: "$(window).hashchange();"
                                       }

                            insertTree(tree);
                        </script>
                    </div>
                </div>
            </div>
        </div>
        <div id="right">
            <div id="content">
                <div class="viewport">
                    <div class="overview"></div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
