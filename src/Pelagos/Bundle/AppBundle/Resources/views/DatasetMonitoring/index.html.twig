{% extends "PelagosAppBundle:template:UI.html.twig" %}

{% block head %}
    {{ parent() }}

    {% stylesheets '@PelagosAppBundle/Resources/public/css/dataset-monitoring.css' '@PelagosAppBundle/Resources/public/css/scrollbars.css' %}
        {{ add_css(asset_url) }}
    {% endstylesheets %}

    {{ add_js('https://cdnjs.cloudflare.com/ajax/libs/jquery-hashchange/1.3/jquery.ba-hashchange.min.js') }}

    {% javascripts '@PelagosAppBundle/Resources/public/js/dataset-monitoring.js' %}
        {{ add_js(asset_url) }}
    {% endjavascripts %}
{% endblock %}

{% block body %}
    <div id="container">
        <div id="left">
            <div id="menu">
                <div class="viewport">
                    <div class="overview">
                        <script type="text/javascript">
                            var tree = {
                                        theme: "classic",
                                        max_depth: 1,
                                        expand_to_depth: 0,
                                        animation: 250,
                                        type: "ra",

                                        yr1_folder_color: "#00A",
                                        yr1_folder_action: "location.href='#';showProjects('YR1',1);",

                                        yr1_color: "#00A",
                                        yr1_action: "updateHash(\{\{fundSrc.ID\}\});showProjects('fundSrc',\{\{fundSrc.ID\}\});",

                                        rfp_color: "#00A",
                                        rfp_action: "updateHash(\{\{fundSrc.ID\}\});showProjects('fundSrc',\{\{fundSrc.ID\}\});",

                                        other_sources_color: "#00A",
                                        other_sources_action: "updateHash(\{\{fundSrc.ID\}\});showProjects('fundSrc',\{\{fundSrc.ID\}\});",

                                        project_color: "#00A",
                                        project_action: "updateHash(\{\{project.Fund_Src\}\},\{\{project.ID\}\});showProjects('projectId',\{\{project.ID\}\});",

                                        dataset_color: "#00A",
                                        dataset_action: "location.href='#';showDataset(\{\{dataset.ID\}\});",

                                        researcher_color: "#00A",
                                        researcher_action: "location.href='#';showProjects('peopleId',\{\{person.ID\}\});",

                                        institution_color: "#00A",
                                        institution_action: "location.href='#';showProjects('institutionId',\{\{institution.ID\}\});",

                                        afteropen: "$(window).hashchange();"
                                       }

                            insertTree(tree);
                        </script>
                    </div>
                </div>
            </div>
        </div>
        <div id="right">
            <div id="content">
                <div class="viewport">
                    <div class="overview"></div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
