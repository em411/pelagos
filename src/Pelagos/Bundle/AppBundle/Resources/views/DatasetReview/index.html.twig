{% extends "PelagosAppBundle::layout.html.twig" %}

{% block head %}
    {{
        add_library (
            [
                'ui.datepicker',
                'ui.dialog',
                'ui.tabs',
                'ui.widget',
            ]
        )
    }}

    {{
        add_css (
            [
                '//cdnjs.cloudflare.com/ajax/libs/animate.css/3.3.0/animate.min.css',
                '//cdnjs.cloudflare.com/ajax/libs/select2/4.0.0/css/select2.min.css',
                '//cdnjs.cloudflare.com/ajax/libs/file-uploader/5.11.8/fine-uploader-new.min.css',
                '//cdn.datatables.net/1.10.7/css/jquery.dataTables.min.css',
                '//cdn.datatables.net/select/1.0.1/css/select.dataTables.min.css'
            ]
        )
    }}

    {% stylesheets
        '@PelagosAppBundle/Resources/public/css/fileBrowser.css'
        '@PelagosAppBundle/Resources/public/css/dataset-submission.css'
        '@PelagosAppBundle/Resources/public/css/dataset-submission-uploader.css'
    %}
        {{ add_css(asset_url) }}
    {% endstylesheets  %}

    {{
        add_js(
            [
                '//cdnjs.cloudflare.com/ajax/libs/jquery-noty/2.3.5/packaged/jquery.noty.packaged.min.js',
                '//cdnjs.cloudflare.com/ajax/libs/select2/4.0.0/js/select2.min.js',
                '//cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.11.1/jquery.validate.min.js',
                '//cdnjs.cloudflare.com/ajax/libs/datejs/1.0/date.min.js',
                '//cdnjs.cloudflare.com/ajax/libs/spin.js/2.0.1/spin.min.js',
                '//cdnjs.cloudflare.com/ajax/libs/openlayers/2.13.1/OpenLayers.js',
                '//cdnjs.cloudflare.com/ajax/libs/file-uploader/5.11.8/jquery.fine-uploader/jquery.fine-uploader.min.js',
                '//maps.google.com/maps/api/js?v=3&key=' ~ google_maps_api_key,
                '//cdn.datatables.net/1.10.7/js/jquery.dataTables.js',
                '//cdn.datatables.net/select/1.0.1/js/dataTables.select.min.js',
            ]
        )
    }}

    {% javascripts
        '@FOSJsRoutingBundle/Resources/public/js/router.js'
        '@PelagosAppBundle/Resources/public/js/common.js'
        '@PelagosAppBundle/Resources/public/js/fileBrowser.js'
        '@PelagosAppBundle/Resources/public/js/geoviz.js'
        '@PelagosAppBundle/Resources/public/js/mapWizard.js'
        '@PelagosAppBundle/Resources/public/js/dataset-submission.js'
        '@PelagosAppBundle/Resources/public/js/datasetsWithApprovedDifs.js'
    %}
        {{ add_js(asset_url) }}
    {% endjavascripts %}

    {{ add_js(path('fos_js_routing_js', { callback: 'fos.Router.setData' })) }}


{% endblock %}

{% block body %}

<h1>Dataset Review</h1>

{% if is_granted('ROLE_DATA_REPOSITORY_MANAGER') %}
<div class="cleair">
    <fieldset>
        <b>Submitted Datasets</b>
        {% include 'PelagosAppBundle:DatasetReview:datasets-submitted.html.twig' %}
    </fieldset>
</div>
{% else %}
    <div class="messages warning">
            <h2 class="element-invisible">Warning message</h2>
            Please log in first!
    </div>
    <h1>Please log in first to use this form!</h1>
{% endif %}

<div class="modal" id="spinner"></div>
<div style="display:none;">
    {% image '@PelagosAppBundle/Resources/public/images/x.png' %}
        <img id="imgwarning" src="{{ asset_url }}">
    {% endimage %}
    {% image '@PelagosAppBundle/Resources/public/images/check.png' %}
        <img id="imgcheck" src="{{ asset_url }}">
    {% endimage %}
</div>
{% endblock %}
